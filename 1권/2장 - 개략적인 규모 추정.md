# 2장 - 개략적인 규모 추정

## 모든 프로그래머가 알아야 하는 응답 지연 값.

* 메모리는 빠르지만 디스크는 아직도 느리다.
* 디스크 탐색은 가능한 피하라.
* 단순한 압축 알고리즘은 빠르다.
* 데이터를 인터넷으로 전송하기 전에 가능하면 압축하라.
* 데이터 센터는 보통 여러 지역에 분산되어 있고, 센터들 간에 데이터를 주고받는 데는 시간이 걸린다.

## 가용성에 관계된 수치들
* 고가용성 : 시스템이 오랜 시간 동안 중단 없이 운영될 수 있는 능력
* SLA : 서비스 사어자와 고객 사이에 맺어진 합의

### 예제 : 트위터 QPS와 저장소 요구량 추정
* 가정
  * MAU : 3억명
  * 매일 사용자 : 50%
  * 매일 각 사용자의 트윗 : 2건
  * 미디어 포함 : 10%
  * 데이터 보관 : 5년
* 추정
  * DAU = 3*0.5=1.5억
  * QPS=1.5억 * 2트윗 / 25시간 / 3600초 = 약 3500
  * 최대 QPS = 2 * QPS = 7500
* 미디어 저장 요구량
  * 미디어 : 1메가
  * 1.5억 * 2트윗 * 10% * 1메가 = 30TB/일
  * 5년간 저장하려면 : 30TB*365*5=55PB
* 성능테스트의 경험..
  * 기존의 트래픽 판단 -> TPS 예상 계산 -> TPS*2 를 견디는지 테스트
  * QPS 를 많이 쓰는지?

# 팁
면접에서 중요한 것은 결과보다 문제를 푸는 절차가 올바른지가 더 중요하다.
* 근사치를 활용하여 계산
* 가정을 적기
* 단위를 붙이기
* 많은 출제
  * QPS, 최대 QPS, 저장소 요구량, 캐시 요구량, 서버수 추정
>  스타트업 위주로 면접을 봤어서 그런지 QPS 를 묻는곳은 없었음..
> 다른곳은 어떠한지?

